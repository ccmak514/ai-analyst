# AI Analyst (Chat with your PDF & EDA by Automatic Visualization)
AI Analyst is written by **Isaac Mak**
- [LinkedIn](https://www.linkedin.com/in/isaac-ccmak/)
- [Source Code](https://github.com/ccmak514/ai-analyst)
- [GitHub](https://github.com/ccmak514)
- [Try the Demo!!!](https://isaac-mak-ai-ana-lyst.streamlit.app/)

The objective of this project is to assist analysts in answering questions according to the uploaded PDF file and analyzing CSV data.
This application consists of two main functions:

**1. Chat with your PDF**

**2. EDA by Automatic Visualization**

**Let's Try the Demo:**
https://isaac-mak-ai-ana-lyst.streamlit.app/

## 1. Chat with your PDF

The **AI Analyst: Chat with your PDF** can help answer your questions **based on the provided PDF file** by following the guidelines below:

0. *Enter the OpenAI API Key*
1. *Upload a PDF file.*
2. *Ask any questions about the PDF file after loading.*
3. *Answer **based on the PDF file** will be displayed.*
4. *The answers will depend on the **previous chat history**.*

### Testing PDF File: [Royal Bank of Canada Annual Report 2022](https://www.rbc.com/investor-relations/_assets-custom/pdf/ar_2022_e.pdf)
The **235-page Royal Bank of Canada Annual Report 2022** is used for testing. 5 questions about the annual report are asked:

- **What bank is this report for?**
- **Introduce this report.**
- **What is the total revenue in 2022?**
- **How is the financial performance of the bank?**
- **What is the total revenue in 2021?**

The **AI Analyst: Chat with your PDF** can answer each question according to the content of the annual report within **10-15 seconds**. For the details of the answer generated by the AI, you may watch the demo gif below or the video in the demo folder in the repository.

### Demo:
![chatbot_gif1](https://github.com/ccmak514/ai-analyst/assets/101066418/b3b6a6cc-0609-4d3c-b88b-0696d77c5469)

![chatbot_gif2](https://github.com/ccmak514/ai-analyst/assets/101066418/2df3e59b-eb13-4b50-8746-b05484e67278)

## 2. EDA by Automatic Visualization

The **AI Analyst: EDA by Automatic Visualization** can help you do the **Exploratory Data Analysis (EDA) automatically** by following the guidelines below:

0. *Enter the OpenAI API Key.*
1. *Upload a CSV file to preview and display a summary (numerical and categorical).*
2. *Choose the number of visualizations you want.*
3. *Click the button to do **EDA through visualization** by AI automatically.*
4. *The **reasons** and **goals** behind the visualizations will be displayed.*
5. *The **code** for plotting the charts can be found in the **code tab**.*

### Testing CSV File: [Home Loan Approval](https://www.kaggle.com/datasets/rishikeshkonapure/home-loan-approval?select=loan_sanction_train.csv)
The **615-row CSV file of Home Loan Approval** is used for the testing. After uploading the CSV file, a **preview** and a **summary (numerical and categorical)** are generated automatically.

By selecting 5 on the slider bar and clicking the button, The **AI Analyst: EDA by Automatic Visualization** can generate 5 **charts** for the CSV file, the corresponding **reasons** for the charts, and **Python code for plotting the charts** of the **CSV file of Home Loan Approval** within 40 seconds.

- **Chart 1: Histogram of Loan Amount**
  - *Reason: Tell about the **spread and concentration** of loan amounts*
- **Chart 2: Histogram of Applicant Income**
  - *Reason: Tell about the **spread and concentration** of applicant income*
- **Chart 3: Scatter plot of Loan Amount and Applicant Income**
  - *Reason: Show the **correlation** between the loan amount and the applicants' income*
- **Chart 4: Bar chart of Loan Status by Credit History**
  - *Reason: Show the **impact** of credit history on loan approvals*
- **Chart 5:Bar Chart of Loan Status by Property Area**
  - *Reason: Show the **impact** of property area on loan approvals)*

For the details of the result generated by the AI, you may watch the demo gif below or the video in the demo folder in the repository.

### Demo:
![visualization_gif1](https://github.com/ccmak514/ai-analyst/assets/101066418/34a7a679-7320-4ee1-8087-d3a65f1e395c)

![visualization_gif2](https://github.com/ccmak514/ai-analyst/assets/101066418/49d78e2a-ad84-4482-870b-96d24da56e80)

## Run the Code Locally
1. `python3 -m venv ./venv/ai_analyst/` - Create a virtual environment
2. `source ./venv/ai_analyst/bin/activate` - Activate it (it is for Mac)
3. `pip3 install -r requirements.txt` - install the packages into the virtual environment
4. `streamlit run chatbot.py`

## Reference
The building blocks of this application are mainly:
1. [LangChain](https://www.langchain.com/)
2. [LIDA](https://microsoft.github.io/lida/)
3. [OpenAI API](https://openai.com/blog/openai-api)
4. [Streamlit](https://streamlit.io/)

